<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva – Ingeniería Comercial</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      margin: 0;
      padding: 20px;
    }
    h1 { text-align: center; }
    p { text-align: center; color: #555; }

    .grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 12px;
      margin-top: 30px;
    }

    .semester {
      background: #e5e7eb;
      border-radius: 10px;
      padding: 10px;
    }

    .semester h3 {
      text-align: center;
      font-size: 0.85rem;
      margin-bottom: 10px;
    }

    .course {
      background: white;
      border-radius: 8px;
      padding: 8px;
      margin-bottom: 8px;
      font-size: 0.75rem;
      cursor: pointer;
      border-left: 6px solid #3b82f6;
    }

    .course.approved {
      background: #dcfce7;
      border-left-color: #16a34a;
      text-decoration: line-through;
    }

    .course.locked {
      background: #f3f4f6;
      border-left-color: #9ca3af;
      opacity: 0.6;
      cursor: not-allowed;
    }
  </style>
</head>

<body>

<h1>Malla Interactiva – Ingeniería Comercial</h1>
<p>Haz clic en un ramo para aprobarlo</p>

<div class="grid" id="grid"></div>

<script>
const semesters = [
  { name: "Sem I", courses: [
    { id: "ECO1", name: "Introducción a la Economía" },
    { id: "ADM1", name: "Introducción a la Administración" },
    { id: "MAT1", name: "Matemática I" },
    { id: "HAB1", name: "Taller de Habilidades I" },
    { id: "EMP", name: "Desarrollo de Actitud Emprendedora" },
    { id: "TEO1", name: "Formación General Teológica" }
  ]},
  { name: "Sem II", courses: [
    { id: "MAC1", name: "Macroeconomía I", prereq: ["ECO1"] },
    { id: "ADM2", name: "Administración", prereq: ["ADM1"] },
    { id: "CON1", name: "Contabilidad Financiera I" },
    { id: "EST1", name: "Estadística I" },
    { id: "MAT2", name: "Matemática II", prereq: ["MAT1"] },
    { id: "HAB2", name: "Taller de Habilidades II", prereq: ["HAB1"] }
  ]},
  { name: "Sem III", courses: [
    { id: "MIC1", name: "Microeconomía I", prereq: ["MAC1"] },
    { id: "CO", name: "Comportamiento Organizacional", prereq: ["ADM2"] },
    { id: "CON2", name: "Contabilidad Financiera II", prereq: ["CON1"] },
    { id: "EST2", name: "Estadística II", prereq: ["EST1"] },
    { id: "MAT3", name: "Matemática III", prereq: ["MAT2"] },
    { id: "FG1", name: "Formación General Globalización I" }
  ]},
  { name: "Sem IV", courses: [
    { id: "MAC2", name: "Macroeconomía II", prereq: ["MIC1"] },
    { id: "LEG", name: "Legislación de Negocios" },
    { id: "COST", name: "Costos y Presupuestos", prereq: ["CON2"] },
    { id: "ECON", name: "Econometría", prereq: ["EST2"] },
    { id: "FG2", name: "Formación General Globalización II" }
  ]},
  { name: "Sem V", courses: [
    { id: "MIC2", name: "Microeconomía II", prereq: ["MAC2"] },
    { id: "TRIB", name: "Gestión Tributaria", prereq: ["LEG"] },
    { id: "MET", name: "Métodos Cuantitativos", prereq: ["ECON"] },
    { id: "MKT1", name: "Marketing I" },
    { id: "IDEA", name: "Identificación de Oportunidades de Negocio" }
  ]},
  { name: "Sem VI", courses: [
    { id: "ORG", name: "Organización Industrial" },
    { id: "RRLL", name: "Relaciones Laborales" },
    { id: "FIN", name: "Administración Financiera", prereq: ["COST"] },
    { id: "MKT2", name: "Marketing II", prereq: ["MKT1"] }
  ]},
  { name: "Sem VII", courses: [
    { id: "PLAN", name: "Planificación Estratégica" },
    { id: "LID", name: "Liderazgo de Personas" },
    { id: "FINCOR", name: "Finanzas Corporativas", prereq: ["FIN"] },
    { id: "SI", name: "Sistemas de Información" }
  ]},
  { name: "Sem VIII", courses: [
    { id: "CTRL", name: "Control de Gestión" },
    { id: "DO", name: "Desarrollo Organizacional" },
    { id: "LOG", name: "Logística Empresarial" },
    { id: "INT1", name: "Integrador I" }
  ]},
  { name: "Sem IX", courses: [
    { id: "ELEC1", name: "Electiva Profesional I" },
    { id: "ELEC2", name: "Electiva Profesional II" },
    { id: "ELEC3", name: "Electiva Profesional III" },
    { id: "INT2", name: "Integrador II", prereq: ["INT1"] }
  ]},
  { name: "Sem X", courses: [
    { id: "PRAC", name: "Práctica Profesional", prereq: ["INT2"] },
    { id: "SEMI", name: "Seminario de Título", prereq: ["INT2"] },
    { id: "TIT", name: "Trabajo de Título", prereq: ["INT2"] }
  ]}
];

const approved = new Set();
const grid = document.getElementById("grid");

function canUnlock(course) {
  if (!course.prereq) return true;
  return course.prereq.every(p => approved.has(p));
}

function render() {
  grid.innerHTML = "";
  semesters.forEach(sem => {
    const s = document.createElement("div");
    s.className = "semester";
    s.innerHTML = `<h3>${sem.name}</h3>`;
    sem.courses.forEach(c => {
      const d = document.createElement("div");
      d.className = "course";
      d.textContent = c.name;
      if (!canUnlock(c)) d.classList.add("locked");
      if (approved.has(c.id)) d.classList.add("approved");
      d.onclick = () => {
        if (!canUnlock(c)) return;
        approved.has(c.id) ? approved.delete(c.id) : approved.add(c.id);
        render();
      };
      s.appendChild(d);
    });
    grid.appendChild(s);
  });
}
render();
</script>

</body>
</html>
